{"meta":{"title":"墨码山河","subtitle":"让躁动的灵魂得以安放","description":"给世界留下存在的痕迹","author":"墨码山河","url":"https://momashanhe.com","root":"/"},"pages":[{"title":"关于","date":"2024-02-25T14:31:08.000Z","updated":"2024-03-03T19:03:28.721Z","comments":true,"path":"about/index.html","permalink":"https://momashanhe.com/about/index.html","excerpt":"","text":"芸芸众生中的普通人而已，欢迎来做客。"},{"title":"分类","date":"2024-02-25T13:45:11.000Z","updated":"2024-03-04T04:32:21.822Z","comments":true,"path":"categories/index.html","permalink":"https://momashanhe.com/categories/index.html","excerpt":"","text":""},{"title":"建站记录:Hexo博客:搭建","date":"2024-02-29T11:50:06.000Z","updated":"2024-03-04T04:32:36.019Z","comments":true,"path":"group/001001/index.html","permalink":"https://momashanhe.com/group/001001/index.html","excerpt":"","text":""},{"title":"标签","date":"2024-02-25T13:53:29.000Z","updated":"2024-03-04T04:32:23.998Z","comments":true,"path":"tags/index.html","permalink":"https://momashanhe.com/tags/index.html","excerpt":"","text":""},{"title":"友邻","date":"2024-02-25T14:23:13.000Z","updated":"2024-03-04T11:57:11.255Z","comments":true,"path":"friends/index.html","permalink":"https://momashanhe.com/friends/index.html","excerpt":"海内存知己，天涯若比邻。","text":"海内存知己，天涯若比邻。 暂停友链互换。"}],"posts":[{"title":"006-设置博客主题","slug":"001-Hexo建站/001-搭建/006-设置博客主题","date":"2024-02-26T14:39:23.000Z","updated":"2024-03-04T05:15:51.663Z","comments":true,"path":"posts/20240226/223923/","permalink":"https://momashanhe.com/posts/20240226/223923/","excerpt":"摘要：本文主要介绍如何设置博客主题。","text":"摘要：本文主要介绍如何设置博客主题。 环境 Windows 10 企业版 LTSC 21H2Node 18.14.0NPM 9.3.1Git 2.37.3Hexo 4.3.1 1 设置主题下载并解压主题到博客目录的themes目录中，也可以通过命令从GitHub上将主题作为子项目进行下载： bash1git submodule add git@github.com:username/hexo-theme-themename.git themes/themename 打开_config.yml配置文件，设置theme的值为主题中指定的名字。 根据主题说明文件，创建_config.themename.yml主题专用配置文件，按照主题说明文档修改配置即可。","categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"}]},{"title":"005-在文章中插入本地图片","slug":"001-Hexo建站/001-搭建/005-在文章中插入本地图片","date":"2024-02-26T13:15:23.000Z","updated":"2024-03-03T15:11:31.627Z","comments":true,"path":"posts/20240226/211523/","permalink":"https://momashanhe.com/posts/20240226/211523/","excerpt":"摘要：本文主要介绍如何在文章中插入本地图片。","text":"摘要：本文主要介绍如何在文章中插入本地图片。 环境 Windows 10 企业版 LTSC 21H2Node 18.14.0NPM 9.3.1Git 2.37.3Hexo 4.3.1 1 插入图片进入博客目录，修改_config.yml配置文件，启动资源目录： _config.yml1post_asset_folder: true 在博客目录打开bash命令行，安装插件： bash1npm install hexo-image-link --save 每次创建博客时，都会创建同名目录，通过相对路径引用同名目录里的图片即可。","categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"}]},{"title":"004-给文章设置模板和永久链接","slug":"001-Hexo建站/001-搭建/004-给文章设置模板和永久链接","date":"2024-02-26T12:13:52.000Z","updated":"2024-03-03T15:11:39.225Z","comments":true,"path":"posts/20240226/201352/","permalink":"https://momashanhe.com/posts/20240226/201352/","excerpt":"摘要：本文主要介绍如何给文章设置模板和永久链接。","text":"摘要：本文主要介绍如何给文章设置模板和永久链接。 环境 Windows 10 企业版 LTSC 21H2Node 18.14.0NPM 9.3.1Git 2.37.3Hexo 4.3.1 1 模板进入博客目录，打开scaffolds目录，修改post.md模板，这是默认模板： post.md12345678910---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;categories:tags:---摘要：&lt;!-- more --&gt; 进入博客目录，打开scaffolds目录，修改draft.md模板： draft.md123456---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;categories:tags:--- 2 永久链接修改博客目录下的_config.yml配置文件： _config.yml12url: https://username.com/permalink: posts/:year:month:day/:hour:minute:second/ 把url改为自己的域名即可，这种永久链接的好处是采用文章创建时间里的元素作为永久链接，即使文章路径或者文章标题发生改动，也不会对已生成的链接产生影响。","categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"}]},{"title":"003-将博客源码上传到GitHub","slug":"001-Hexo建站/001-搭建/003-将博客源码上传到GitHub","date":"2024-02-26T09:26:37.000Z","updated":"2024-03-03T15:11:40.792Z","comments":true,"path":"posts/20240226/172637/","permalink":"https://momashanhe.com/posts/20240226/172637/","excerpt":"摘要：本文主要介绍如何将博客源码上传到GitHub。","text":"摘要：本文主要介绍如何将博客源码上传到GitHub。 环境 Windows 10 企业版 LTSC 21H2Node 18.14.0NPM 9.3.1Git 2.37.3Hexo 4.3.1 1 创建私有源码仓库登录GitHub，创建一个名称为username.source的公共仓库，把username改为GitHub的用户名，下同。 2 创建说明文档和许可证明进入博客目录，创建README.md说明文档，输入对项目的简单介绍，创建LICENSE许可证明，并设置许可类型。 3 同步源码进入博客目录，右键进入bash命令行，执行命令初始化为Git仓库： bash1git init 结果如下： 因为GitHub新的仓库默认分支已经改成了main，但本地还是master，所以执行命令将本地分支改为main： bash1git branch -M main 结果如下： 修改.gitignore配置文件： .gitignore12345678910.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/.deploy_git*/_multiconfig.yml.github*/ 右键进入bash命令行，设置当前目录用户名和邮箱： bash12git config --local user.name usernamegit config --local user.email username@163.com 添加至暂存： bash1git add . 提交更改并注释： bash1git commit -m &quot;init(博客): 初始化博客&quot; 添加远程仓库： bash1git remote add origin git@github.com:username/username.source.git 推送到远程仓库： bash1git push -u origin main","categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"},{"name":"GitHub","slug":"GitHub","permalink":"https://momashanhe.com/tags/GitHub/"}]},{"title":"002-将博客部署到GitHub","slug":"001-Hexo建站/001-搭建/002-将博客部署到GitHub","date":"2024-02-26T07:34:29.000Z","updated":"2024-03-03T15:11:42.229Z","comments":true,"path":"posts/20240226/153429/","permalink":"https://momashanhe.com/posts/20240226/153429/","excerpt":"摘要：本文主要介绍如何将博客部署到GitHub。","text":"摘要：本文主要介绍如何将博客部署到GitHub。 环境 Windows 10 企业版 LTSC 21H2Node 18.14.0NPM 9.3.1Git 2.37.3Hexo 4.3.1 1 配置GitHub1.1 登录注册并登录GitHub。 1.2 生成SSH公钥打开资源管理器，在地址栏输入C:\\Users\\登录用户\\.ssh并回车进入，查看登录用户目录里有没有.ssh目录： 如果目录存在，说明以前设置过.ssh目录，如果没用了就删掉，如果还有用就需要参考SSH配置多用户，在此先不做介绍了。如果目录不存在，进入上级C:\\Users\\登录用户目录，右键进入bash命令行，执行命令生成SSH秘钥和公钥： bash1ssh-keygen -t rsa -C 个人邮箱 命令说明： -t：指定密钥类型，默认是rsa，可以省略。-C：设置注释文字，一般会设置为个人邮箱。 执行命令后，会提示置生成的秘钥和公钥名称，默认是id_rsa作为名称，回车使用默认名称。继续执行，还会提示设置密码和确认密码，回车设置为空。命令最终执行如下： 此时会在登录用户目录里生成.ssh目录，打开id_rsa.pub公钥文件并复制内容。 1.3 配置SSH公钥进入GitHub点击个人头像，选择Settings进入设置页面，在左侧找到SSH and GPG keys设置，在顶部的SSH keys模块中，点击右侧的New SSH key按钮新增配置： 在添加配置的页面中，设置Title的配置名称，然后设置Key中的公钥，粘贴刚刚复制的公钥文件内容，然后点击底部的Add SSH key按钮保存配置。 使用ssh -T git@github.com命令测试通过SSH能否连接到GitHub： 如果提示确认输入，就按照提示输入yes然后回车即可连接成功，下次在测试就没有这个提示了，同时在.ssh目录中会增加known_hosts的配置文件。 2 部署GitHub2.1 创建仓库登录GitHub，创建一个名称为username.github.io的公共仓库，把username改为GitHub的用户名，下同。 这种仓库是GitHub Pages仓库，一个用户只能创建一个这种仓库，创建后允许用户将仓库发布为一个静态网站，网址就是username.github.io仓库名称。 2.2 安装插件进入博客目录，右键进入bash命令行，安装部署到GitHub上的插件： bash1npm install hexo-deployer-git --save 修改博客目录下的_config.yml配置文件，修改底部的deploy配置项，如果没有找到则自己添加： _config.yml12345678# Deployment## Docs: https://hexo.io/docs/one-command-deploymentdeploy: type: git repo: github: url: git@github.com:username/username.github.io.git branch: main 2.3 发布进入博客目录，右键进入bash命令行，执行命令清理博客、生成博客、发布博客： bash123hexo cleanhexo generatehexo deploy 发布后如果提示未知身份： 说明需要设置用户名和邮箱。 可以按照提示设置全局用户名和邮箱： bash12git config --global user.name usernamegit config --global user.email username@163.com 然后重新发布。 也可以进入博客目录下的.deploy_git发布目录，右键进入bash命令行，设置发布目录的用户名和邮箱： bash12git config --local user.name usernamegit config --local user.email username@163.com 返回上级博客目录，然后重新发布。 通过GitHub访问博客：https://username.github.io 3 域名解析3.1 域名通过阿里云或者腾讯云，或者其他服务商，都可以购买域名。 3.2 解析打开cmd命令行，输入命令查询IP地址： cmd1ping username.github.io 进入域名解析页面，配置域名解析。新增记录，主机记录为@，记录类型为A，记录值为上面查到的IP地址，TTL使用默认的600即可。新增记录，主机记录为www，记录类型为CNAME，记录值为GitHub访问博客的地址，TTL使用默认的600即可。 3.3 配置进入博客目录下的source目录，新建CNAME文件，注意不要有后缀名，打开后添加域名并保存。 进入仓库页面，点击仓库页面右上角的Settings标签，在左侧菜单栏中找到Pages配置页，找到Custom domain填入域名并保存。将博客重新发布后就可以通过域名访问了。","categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"},{"name":"GitHub","slug":"GitHub","permalink":"https://momashanhe.com/tags/GitHub/"}]},{"title":"001-本地安装Hexo博客","slug":"001-Hexo建站/001-搭建/001-本地安装Hexo博客","date":"2024-02-26T03:13:54.000Z","updated":"2024-03-03T18:09:23.762Z","comments":true,"path":"posts/20240226/111354/","permalink":"https://momashanhe.com/posts/20240226/111354/","excerpt":"摘要：本文主要介绍如何下载和安装Hexo。","text":"摘要：本文主要介绍如何下载和安装Hexo。 环境 Windows 10 企业版 LTSC 21H2Node 18.14.0NPM 9.3.1Git 2.37.3Hexo 4.3.1 1 简介Hexo是一个快速、简洁且高效的博客框架。Hexo使用Markdown（或其他标记语言）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 官网：https://hexo.io/zh-cn 2 环境2.1 安装Git由于初始化博客目录需要Git支持，并且Hexo的某些命令需要在bash命令行中执行，因此需要安装Git工具。 官网：https://git-scm.com使用最新版安装即可，也可以通过GitHub选择2.37.3版本下载，历史版本下载地址：v2.37.3.windows.1&#x2F;如果GitHub访问速度慢，也可以通过淘宝镜像下载：v2.37.3.windows.1&#x2F; 如果不太了解Git工具，可以使用默认设置安装。安装结束后，右键选择Git Bash Here进入bash命令行： 输入git --version命令查看Git的安装版本： 需要注意的是，默认安装的2.37.3版本在初始化本地Git项目的时候，默认创建的分支还是master分支，可以在安装的时候自定义： 2.2 安装NodeHexo基于Node，搭建过程中还需要使用NPM（Node包管理工具，安装Node时默认安装）。 官网：https://nodejs.org/en本文使用的版本不是最新版，是18.14.0版本。下载地址：v18.14.0&#x2F;选择node-v18.14.0-x64.msi下载并安装。 使用默认配置安装结束后，打开cmd命令行，输入npm -v命令和node -v命令查询NPM版本和Node版本： NPM是包管理工具，通过命令将安装包使用的源设置为淘宝镜像，速度会快一些： bash1npm config set registry https://registry.npmmirror.com 使用命令查看安装使用的源： bash1npm config get registry 2.3 安装Hexo在cmd命令行中使用NPM安装Hexo： bash1npm install hexo-cli -g 安装结束后，使用hexo -v命令查看Hexo版本： 3 使用3.1 初始化博客目录在电脑中新建博客目录，右键进入bash命令行，使用命令初始化博客目录： bash1hexo init 结果如下： 3.2 博客预览使用hexo generate命令生成博客内容。也可以简写为hexo g命令。结果如下： 使用hexo server命令启动本地预览。也可以简写为hexo s命令。结果如下： 根据提示，在浏览器输入地址访问博客：http://localhost:4000/可以看到博客的默认界面： 可以使用Ctrl+C命令停止博客。 3.3 新建文章使用命令创建文章： bash1hexo new test 执行后创建标题为test的文章，在博客名录下的source目录中的_posts目录中会自动新增对应的Markdown文件： 可以通过文本编辑器修改文章，保存后在本地预览： bash1hexo clean &amp;&amp; hexo s 3.4 站点设置修改博客目录下的_config.yml配置文件，修改的Site配置项，修改站点属性。 4 分类和标签4.1 分类进入博客目录，打开bash命令行，添加分类页： bash1hexo new page categories 打开sources/categories/index.md文件，增加分类配置： index.md12345---title: 所有分类date: 2024-02-25 21:45:11type: &quot;categories&quot;--- 使用分类： index.md123---categories: --- 4.2 标签进入博客目录，打开bash命令行，添加标签页： bash1hexo new page tags 打开sources/tags/index.md文件，增加标签配置： index.md12345---title: 所有标签date: 2024-02-25 21:53:29type: &quot;tags&quot;--- 使用标签： index.md123---tags: []---","categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"}]}],"categories":[{"name":"日常生活","slug":"日常生活","permalink":"https://momashanhe.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://momashanhe.com/tags/Hexo/"},{"name":"GitHub","slug":"GitHub","permalink":"https://momashanhe.com/tags/GitHub/"}]}